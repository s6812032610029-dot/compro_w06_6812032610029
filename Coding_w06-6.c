#include <stdio.h>  // นำเข้าไลบรารีมาตรฐาน <stdio.h> เพื่อใช้งานฟังก์ชันการรับข้อมูล (input) และแสดงผล (output)

int main() {  // ฟังก์ชันหลักของโปรแกรม ซึ่งเป็นจุดเริ่มต้นของการทำงานเมื่อรันโปรแกรม

    // ประกาศและกำหนดค่าตัวแปรประเภทจำนวนเต็ม (int)
    int a = 5, b = 2;  

    // ประกาศและกำหนดค่าตัวแปรประเภทเลขทศนิยม (float)
    float x = 3.0, y = 4.5;

    // นิพจน์ที่ 1: r1 = a++ * b + (int)y % 3
    // วิเคราะห์: ใช้ a ก่อนเพิ่มค่า (post-increment), คูณกับ b จากนั้นนำผลลัพธ์มาบวกกับเศษจากการหาร y กับ 3
    // ขั้นตอน:
    // 1. ใช้ค่า a = 5 ก่อน แล้ว a เพิ่มเป็น 6 (เนื่องจากใช้ a++ แบบ post-increment)
    // 2. 5 * 2 = 10
    // 3. (int)y = 4 → 4 % 3 = 1
    // 4. r1 = 10 + 1 = 11
    int r1 = a++ * b + (int)y % 3;

    // นิพจน์ที่ 2: r2 = (a > b) && ((int)x / b < 2)
    // วิเคราะห์: เปรียบเทียบความจริงสองเงื่อนไขโดยใช้ AND (&&)
    // ขั้นตอน:
    // 1. ตอนนี้ a = 6 และ b = 2
    // 2. เงื่อนไขที่ 1: 6 > 2 → จริง (1)
    // 3. (int)x = 3 → 3 / 2 = 1 (เพราะเป็น int division)
    // 4. 1 < 2 → จริง (1)
    // 5. ทั้งสองเงื่อนไขเป็นจริง → r2 = 1
    int r2 = (a > b) && ((int)x / b < 2);

    // นิพจน์ที่ 3: r3 = ++x * y - a / 2
    // วิเคราะห์: เพิ่มค่า x ก่อนใช้งาน (pre-increment) จากนั้นคูณกับ y แล้วลบด้วยผลหารของ a/2
    // ขั้นตอน:
    // 1. ++x = 4.0 (เพิ่มก่อนใช้)
    // 2. 4.0 * 4.5 = 18.0
    // 3. a = 6 → 6 / 2 = 3 (int division)
    // 4. r3 = 18.0 - 3 = 15.0
    float r3 = ++x * y - a / 2;

    // นิพจน์ที่ 4: r4 = ((x += 1.5) > y) || (b-- > 0)
    // วิเคราะห์: ปรับค่า x เพิ่มขึ้นก่อนเปรียบเทียบ แล้วใช้ OR (||) เช็กความจริงของเงื่อนไขใดเงื่อนไขหนึ่ง
    // ขั้นตอน:
    // 1. x += 1.5 → x = 5.5
    // 2. 5.5 > y (4.5) → จริง (1)
    // 3. OR เจอเงื่อนไขจริงข้อแรกแล้ว จึงไม่ตรวจสอบเงื่อนไขหลัง (short-circuit)
    // 4. r4 = 1.0
    float r4 = ((x += 1.5) > y) || (b-- > 0);

    // แสดงผลลัพธ์ของแต่ละนิพจน์
    printf("ผลลัพธ์ r1 = %d\n", r1);     // แสดง r1 เป็นจำนวนเต็ม
    printf("ผลลัพธ์ r2 = %d\n", r2);     // แสดง r2 เป็นจำนวนเต็ม (ค่าบูลีน 0 หรือ 1)
    printf("ผลลัพธ์ r3 = %.2f\n", r3);   // แสดง r3 เป็นเลขทศนิยม 2 ตำแหน่ง
    printf("ผลลัพธ์ r4 = %.2f\n", r4);   // แสดง r4 เป็นเลขทศนิยม 2 ตำแหน่ง แม้ค่าเป็น 1.0

    return 0;  // จบการทำงานของโปรแกรมและคืนค่าการทำงาน 0 ไปยังระบบปฏิบัติการ
}
